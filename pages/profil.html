<!DOCTYPE html>
<html lang="en">

<head>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.3.0/css/all.min.css"
        integrity="sha512-SzlrxWUlpfuzQ+pcUCosxcglQRNAq/DZjVsC0lE40xsADsfeQoEypE+enwcOiGjk/bSuGGKHEyjSoQ1zVisanQ=="
        crossorigin="anonymous" referrerpolicy="no-referrer" />
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no" />
    <meta name="description" content="" />
    <meta name="author" content="" />
    <title>Tables - SB Admin</title>
    <link href="../css/styles.css" rel="stylesheet" />
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css">
    <link href="../css/profil.css" rel="stylesheet" />
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;700&display=swap" rel="stylesheet">
    <script src="../node_modules/html2canvas/dist/html2canvas.min.js"></script>
    <script src="/js/logout.js"></script>
    

</head>

<body class="sb-nav-fixed">
    <nav class="sb-topnav navbar navbar-expand navbar-dark bg-dark">
        <!-- Navbar Brand-->
        <a class="navbar-brand ps-3" href="../index.html">

            <img class="logo" src="../assets/svg/white.svg" alt="gestac logo">

        </a>
        <!-- Sidebar Toggle-->
        <button class="btn btn-link btn-sm order-1 order-lg-0 me-4 me-lg-0" id="sidebarToggle" href="#!"><i
                class="fas fa-bars"></i></button>
        <!-- Navbar Search-->
        <form class="d-none d-md-inline-block form-inline ms-auto me-0 me-md-3 my-2 my-md-0">
        </form>
        <!-- Navbar-->
        <ul class="navbar-nav ms-auto ms-md-0 me-3 me-lg-4">
            <li class="nav-item dropdown">
                <a class="nav-link dropdown-toggle" id="navbarDropdown" href="#" role="button" data-bs-toggle="dropdown"
                    aria-expanded="false"><i class="fas fa-user fa-fw"></i></a>
                <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="navbarDropdown">
                    <li><a class="dropdown-item" href="#!">Paramètres</a></li>
                        <li><a class="dropdown-item" href="#!">Activity Log</a></li>
                        <li><hr class="dropdown-divider" /></li>
                        <li><a class="dropdown-item" href="./profil.html">Mon profil</a></li>
                        <li><a class="dropdown-item" href="./login.html">Connection</a></li>
                        <li><a class="dropdown-item" onclick="logout()" href="#!">déconnection</a></li>
                </ul>
            </li>
        </ul>
    </nav>
    <div id="layoutSidenav">
        <div id="layoutSidenav_nav">
            <nav class="sb-sidenav accordion sb-sidenav-dark" id="sidenavAccordion">
                <div class="sb-sidenav-menu">
                    <div class="nav">
                        <div class="sb-sidenav-menu-heading">Core</div>
                        <a class="nav-link" href="../index.html">
                            <div class="sb-nav-link-icon"><i class="fas fa-tachometer-alt"></i></div>
                            Dashboard
                        </a>

                        <div class="sb-sidenav-menu-heading">outils</div>
                            <a class="nav-link dropdown-toggle" href="#" data-bs-toggle="collapse" data-bs-target="#factureCollapse" aria-expanded="false" aria-controls="factureCollapse">
                                <div class="sb-nav-link-icon" ><i class="fa-solid fa-file-invoice" ></i></div>
                                Facture
                            </a>
                            <div class="collapse" id="factureCollapse" aria-labelledby="headingOne" data-bs-parent="#sidenavAccordion" >
                                <div class="bg-dark p-2">
                                    <a class="nav-link" href="facture.html" >- Nouvelle facture/devis</a>
                                    <a class="nav-link" href="./pages/mes-factures.html">- Mes factures</a>
                                    <a class="nav-link" href="./pages/mes-devis.html">- Mes devis</a>
                                </div>
                            </div>

                        <div class="sb-sidenav-menu-heading">Addons</div>
                        <a class="nav-link" href="../pages/charts.html">
                            <div class="sb-nav-link-icon"><i class="fas fa-chart-area"></i></div>
                            Charts
                        </a>
                        <a class="nav-link" href="../pages/tables.html">
                            <div class="sb-nav-link-icon"><i class="fas fa-table"></i></div>
                            Tables
                        </a>
                    </div>
                </div>
                <div class="sb-sidenav-footer">
                    <div class="small">Logged in as:</div>
                    <p> <span id="userName"> </span> </p>
                </div>
            </nav>
        </div>
        <div id="layoutSidenav_content">

         <!------------------PROFIL début----------------------->


            <div class="page-container">
            
                <!--------------------------------------- Onglets conteneur ------------------------------------------------->
                    <div class="tabs">
                        <button class="tablink active" onclick="openTab(event, 'templateFactures')">Template</button>
                        <button class="tablink" onclick="openTab(event, 'prestations')">Prestations</button>
                        <button class="tablink" onclick="openTab(event, 'clients')">Clients</button>
                    </div>
                    
                <!-------------------------- Conteneur pour le contenu principal avec sidebar et contenu ---------------------->
                <div class="main-content">
                    <!--------------------------  informations utilisateur ------------------>
                    <div class="sidebar" id="sideUser">
                        <div class="info" id="userInfo">
                            <p><strong>Nom :</strong> <span id="userNom"></span></p>
                            <p><strong>Prénom :</strong> <span id="userPrenom"></span></p>
                            <p><strong>Mail :</strong> <span id="userMail"></span></p>
                            <p><strong>Téléphone :</strong> <span id="userTelephone"></span></p>
                        </div>
                        <button class="btn-edit" id="editButton" onclick="editUserInfo()">Éditer</button>
                    </div>

                    <!---------------------------  society ---------------------------------------->
                    <div class="sidebar" id="sideSociety">
                        <img src="../assets/svg/white.svg" alt="Logo" class="logoprofil" id="societyLogo">
                        <div class="info" id="societyInfo">
                            <p><strong>Nom de l'entreprise :</strong> <span id="societyName"></span></p>
                            <p><strong>Adresse :</strong> <span id="societyAdresse"></span></p>
                            <p><strong>N° SIREN :</strong> <span id="societySiren"></span></p>
                            <p><strong>N° SIRET :</strong> <span id="societySiret"></span></p>
                            <p><strong>Mail :</strong> <span id="societyMail"></span></p>
                            <p><strong>Téléphone :</strong> <span id="societyTelephone"></span></p>
                        </div>
                        <button class="btn-edit" id="editButton" onclick="editSocietyInfo()">Éditer</button>
                        <button class="btn-change-logo" id="changeLogoButton" style="display: none;" onclick="triggerLogoInput()">Changer le logo</button>
                        <input type="file" id="logoInput" style="display: none;" onchange="changeLogo()" />
                    </div>
                    
                    <!--------------------------- template des factures/devis ------------------->
                    <div class="content-container">
                        <div class="tabcontent" id="templateFactures">
                            <h2>Template de facture/devis</h2>
                            <p>Contenu des factures ici...</p>
                        </div>

                        <!------------------------------- Prestations ----------------------------->
                        <div class="tabcontent" id="prestations" style="display:none;">
                            <table id="prestationsTable">
                                <thead>
                                    <tr>
                                        <th>Description</th>
                                        <th>PU HT</th>
                                        <th>TVA</th>
                                        <th>Action</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <!-- Les prestations seront ajoutées ici -->
                                </tbody>
                            </table>
                            <button class="btn" id="addBtn" onclick="openPrestationsModal()">Ajouter une prestation</button>
                        
                            <!-- Pop-up modal -->
                            <div id="prestationsModal" class="modal">
                                <div class="modal-content">
                                    <div class="modal-header">
                                        <span class="close" onclick="closePrestationsModal()" style="cursor: pointer;">&times;</span>
                                        <h2>Ajouter une prestation</h2>
                                    </div>
                                    <div class="modal-body">
                                        <!-- Formulaire d'ajout de prestation -->
                                        <form id="prestationsForm">
                                            <label for="modalPrestationsDescription">Description :</label>
                                            <input type="text" id="modalPrestationsDescription" placeholder="Description" required />
                                            
                                            <label for="modalPrestationsPUHT">PU HT :</label>
                                            <input type="number" id="modalPrestationsPUHT" placeholder="PU HT" required />
                                            
                                            <label for="modalPrestationsTVA">TVA :</label>
                                            <input type="number" id="modalPrestationsTVA" placeholder="TVA" required />
                        
                                            <div class="modal-footer">
                                                <button type="button" class="btn" id="addBtn" onclick="addPrestationsFromModal()">Ajouter</button>
                                                <button type="button" class="btn cancel" id="cancelBtn" onclick="closePrestationsModal()">Annuler</button>
                                            </div>
                                        </form>
                                    </div>
                                </div>
                            </div>
                        </div>
                        
                            
                        <!-------------------------------Portefeuille Clients ----------------------------->
                        
                        <div class="tabcontent" id="clients" style="display:none;">
                            <div>
                                <button class="btn" id="addBtn" onclick="showClientTable('particulier')">Clients Particuliers</button>
                                <button class="btn" id="addBtn" onclick="showClientTable('professionnel')">Clients Professionnels</button>
                            </div>
                        
                            <!-- Table Clients Particuliers -->
                            <div id="particulierTable" class="clientTable" style="display:none;">
                                <h3>Clients Particuliers</h3>
                                <table id="particulierClientTable">
                                    <thead>
                                        <tr>
                                            <th>Nom</th>
                                            <th>Prénom</th>
                                            <th>Adresse</th>
                                            <th>Email</th>
                                            <th>Téléphone</th>
                                            <th>Actions</th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <!-- Les clients particuliers seront ajoutés ici -->
                                    </tbody>
                                </table>
                                <button class="btn" id="addBtn" onclick="openClientModal('particulier')">Ajouter un client</button>
                            </div>
                        
                            <!-- Table Clients Professionnels -->
                            <div id="professionnelTable" class="clientTable" style="display:none;">
                                <h3>Clients Professionnels</h3>
                                <table id="professionnelClientTable">
                                    <thead>
                                        <tr>
                                            <th>Nom</th>
                                            <th>Prénom</th>
                                            <th>Nom de l'entreprise</th>
                                            <th>Adresse</th>
                                            <th>Email</th>
                                            <th>Téléphone</th>
                                            <th>N° SIRET</th>
                                            <th>N° SIREN</th>
                                            <th>Actions</th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <!-- Les clients professionnels seront ajoutés ici -->
                                    </tbody>
                                </table>
                                <button class="btn" id="addBtn" onclick="openClientModal('professionnel')">Ajouter un client</button>
                            </div>
                        
                            <!-- Pop-up modal -->
                            <div id="clientModal" class="modal">
                                <div class="modal-content">
                                    <span class="close" onclick="closeClientModal()" style="cursor: pointer;">&times;</span>
                                    <h2 id="modalTitle">Ajouter un client</h2>
                                    
                                    <!-- Formulaire d'ajout de client -->
                                    <input type="hidden" id="modalClientType" />
                                    
                                    <div id="modalClientFields">
                                        <input type="text" id="modalClientName" placeholder="Nom" required />
                                        <input type="text" id="modalClientSurname" placeholder="Prénom" required />
                                        <input type="text" id="modalClientAddress" placeholder="Adresse" required />
                                        <input type="email" id="modalClientEmail" placeholder="Email" required />
                                        <input type="tel" id="modalClientPhone" placeholder="Téléphone" required />

                                        <!-- Champs supplémentaires pour les professionnels -->
                                        <div id="modalProfessionalFields" style="display: none;">
                                            <input type="text" id="modalClientCompanyName" placeholder="Nom de l'entreprise" required />
                                            <input type="text" id="modalClientSIREN" placeholder="N° SIREN" required />
                                            <input type="text" id="modalClientSIRET" placeholder="N° SIRET" required />
                                        </div>

                                        <button onclick="addClientFromModal()" id="addBtn">Ajouter Client</button>
                                    </div>
                                </div>
                            </div>
                        </div>                   
                    </div>
                </div>
            </div>
        



        
         <!------------------PROFIL fin----------------------->
            <footer class="py-4 bg-light mt-auto">
                <div class="container-fluid px-4">
                    <div class="d-flex align-items-center justify-content-between small">
                        <div class="text-muted">Copyright &copy; Your Website 2022</div>
                        <div>
                            <a href="#">Privacy Policy</a>
                            &middot;
                            <a href="#">Terms &amp; Conditions</a>
                        </div>
                    </div>
                </div>
            </footer>
        </div>
    </div>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js" crossorigin="anonymous">
    </script>
    <script src="../js/profil.js" type="module"></script>
</body>


</html>